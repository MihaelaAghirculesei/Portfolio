@import "../../../styles/styles.scss";

// Landing page specific variables
$header-padding-top: 98px;
$dot-indicator-size: 6px;
$dot-indicator-offset: -1px;
$dot-hover-distance: 10px;
$arrow-bounce-duration: 2s;
$arrow-bounce-offset-start: -5px;
$arrow-bounce-offset-end: 6px;
$arrow-small-width: 40px;
$arrow-small-height: 25px;
$name-animation-duration: 40s;
$surname-animation-delay: 7s;
$hero-title-font-size: 40px;
$hero-name-font-size: 90px;
$email-font-size-offset: 2px;
$banner-z-index: 99;
$edge-line-height-large: 255px;

// Spacing combinations
$surname-padding-bottom: calc($spacing-sm + $spacing-xs);
$button-gap: calc($spacing-xxxl + $spacing-lg);
$button-margin-vertical: calc($spacing-xl * 2);

@mixin dotIndicator($direction: left) {
  content: "";
  position: absolute;
  @if $direction == left {
    left: $dot-indicator-offset;
  } @else {
    right: $dot-indicator-offset;
  }
  top: 50%;
  transform: translateY(-50%) translateX(0) scale(0);
  width: $dot-indicator-size;
  height: $dot-indicator-size;
  background-color: $white;
  border-radius: 50%;
  transition: all $transition-base;
  opacity: 0;
}

@mixin emailIconDot {
  &::after {
    @include dotIndicator(left);
    pointer-events: none;
  }

  &:hover::after,
  &:focus-visible::after {
    transform: translateY(-50%) translateX(-$dot-hover-distance) scale(1);
    opacity: 1;
  }
}

@mixin responsiveEmailIcon {
  .email-text {
    display: none;
  }
  .email-icon {
    display: block;
    transform: scale(-1);
    width: $icon-size-sm;
    height: $icon-size-sm;
  }

  @include emailIconDot;
}

@mixin smallArrowSize {
  width: $arrow-small-width;
  height: $arrow-small-height;
}

@mixin responsiveSmallIcons {
  a img {
    @include socialIcon($icon-size-sm);
  }
}

@mixin responsiveEdgeRightIcons {
  .email-link {
    @include responsiveEmailIcon;
  }
  @include responsiveSmallIcons;
}

@mixin edgeLineHeight($height) {
  .edgeLine-left .greenLineDown,
  .edgeLine-right .hero-right-line {
    height: $height;
  }
}

@mixin responsiveH1FontSize($size) {
  .headLine .contentWrapper h1 .name-spectacular {
    font-size: $size;
  }
}

.headLine {
  @include code-font;
  padding: $header-padding-top 0 0 0;
  @include fullScreenSection();
  background:
    linear-gradient(to bottom, transparent 0%, transparent 97%, $background-color 100%),
    linear-gradient(68deg, $gradient-start 23%, $gradient-end 100%);

  .contentWrapper {
    position: relative;
    height: calc(100vh - $header-padding-top);
    @include dFlex(center, center);
    flex-direction: column;
    max-width: 1440px;
    width: 100%;
    margin: 0 auto;
    padding: 0;
    text-align: center;
    gap: 0;

    p {
      font-size: $hero-title-font-size;
      @include code-font;
      color: $white;
      margin: 0;
      font-weight: 900;
      cursor: default;
    }

    h1 {
      font-size: $hero-name-font-size;
      @include primary-font;
      word-spacing: -0.1em;
      color: $white;
      margin: 0;
      line-height: 1.1;
      display: flex;
      flex-direction: column;
      align-items: center;

      .name-spectacular {
        @include spectacularText($name-animation-duration);

        &.surname {
          animation-delay: $surname-animation-delay;
          padding-bottom: $surname-padding-bottom;
        }
      }
    }

    .buttonDiv {
      @include dFlex(center, center);
      gap: $button-gap;
      margin: $button-margin-vertical 0;
    }

    .edgeLine-left {
      @include edgeLine(left);
      left: 10px;

      .arrowDown {
        @include arrowButton();

        &:focus-visible {
          outline: 2px solid $main-color;
          outline-offset: 4px;
        }

        .arrowDownImg {
          transform: rotate(270deg);
          animation: arrowBounce $arrow-bounce-duration ease-in-out infinite;
        }
      }

      .greenLineDown {
        @include verticalLine();
      }
    }

    .edgeLine-right {
      @include edgeLine(right);
      right: 10px;

      .email-link {
        position: relative;
        color: $main-color;
        text-decoration: none;
        @include primary-font;
        font-size: calc($font-size-base + $email-font-size-offset);
        writing-mode: vertical-rl;
        transform: scale(-1);

        &:hover,
        &:focus-visible {
          color: $white;

          .email-text::before {
            transform: translateX(-$dot-hover-distance) scale(1);
            opacity: 1;
          }
        }

        &:focus-visible {
          outline: 2px solid $main-color;
          outline-offset: 4px;
        }

        .email-text {
          transition: all $transition-base;
          position: relative;

          &::before {
            @include dotIndicator(left);
          }
        }

        .email-icon {
          display: none;
        }
      }

      a {
        position: relative;

        &:not(.email-link) {
          &::before {
            @include dotIndicator(right);
          }

          &:hover::before,
          &:focus-visible::before {
            transform: translateY(-50%) translateX($dot-hover-distance) scale(1);
            opacity: 1;
          }

          &:focus-visible {
            outline: 2px solid $main-color;
            outline-offset: 4px;
          }
        }

        img {
          @include socialIcon();
        }
      }

      .hero-right-line {
        @include verticalLine();
      }
    }
  }
}

@media (min-width: 1441px) {
  .headLine .contentWrapper {
    @include edgeLineHeight($edge-line-height-large);
  }
}

app-banner-section {
  z-index: $banner-z-index;
  position: absolute;
  inset: auto 0 0 0;
}

@media (max-width: $content-max-width) {
  .headLine .contentWrapper {
    width: 100%;

    .edgeLine-right {
      padding-right: 5px;
    }
  }
}

@media (min-width: 581px) {
  .headLine .contentWrapper .edgeLine-right .email-link {
    .email-text {
      display: block;
    }
    .email-icon {
      display: none;
    }
  }

  @media (max-height: 918px) and (max-width: 1440px) {
    .headLine .contentWrapper {
      .edgeLine-right {
        @include responsiveEdgeRightIcons;
      }

      .edgeLine-left .arrowDown {
        @include smallArrowSize;
      }
    }
  }
}

@media (min-width: 546px) and (max-width: 649px) {
  @include responsiveH1FontSize(50px);
}

@media (min-width: 650px) and (max-width: 770px) {
  @include responsiveH1FontSize(60px);
}

@media (min-width: 771px) and (max-width: $tablet-max) {
  @include responsiveH1FontSize(80px);
}

@media (max-width: 580px) {
  .headLine .contentWrapper {
    p {
      font-size: $font-size-base;
      padding-bottom: $spacing-xs;
    }

    h1 .name-spectacular {
      font-size: $font-size-h1-mobile;
      line-height: 1;
    }

    .buttonDiv {
      gap: $spacing-sm;
      flex-direction: column;
    }

    .edgeLine-left {
      left: -$spacing-xs;

      .greenLineDown {
        height: $line-height-sm;
      }

      .arrowDown {
        @include smallArrowSize;
      }
    }

    .edgeLine-right {
      @include responsiveEdgeRightIcons;

      .hero-right-line {
        height: $line-height-sm;
      }
    }

    @media (max-width: $mobile-small-max) {
      h1 .name-spectacular {
        line-height: 0.9;
        letter-spacing: $letter-spacing-sm;
      }

      .buttonDiv {
        gap: $spacing-xs;
        margin-top: $spacing-md;

        .link-button {
          font-size: $font-size-base;
          padding: $spacing-xs $spacing-sm;
        }
      }
    }
  }
}

@keyframes arrowBounce {
  0%,
  100% {
    transform: rotate(270deg) translateY($arrow-bounce-offset-start);
  }
  50% {
    transform: rotate(270deg) translateY($arrow-bounce-offset-end);
  }
}
